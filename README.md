# ğŸ“– TheBible API

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

TheBible APIëŠ” ì„±ê²½ ë°ì´í„°(ë²ˆì—­ë³¸, ì±…, ì¥, ì ˆ)ë¥¼ ê´€ë¦¬í•˜ê³  ì œê³µí•˜ëŠ” RESTful APIì…ë‹ˆë‹¤.
Spring Boot ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, DDD ì›ì¹™ì„ ì ìš©í•˜ì—¬ ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¥¼ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸ“Œ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Spring Boot 3.x, Kotlin, JPA (Hibernate)
- **Database**: H2 (ê°œë°œ), MySQL or PostgreSQL (ìš´ì˜)
- **Build**: Gradle
- **Caching**: Redis (ì„ íƒì‚¬í•­)
- **API ë¬¸ì„œí™”**: SpringDoc OpenAPI (Swagger)

---

## ğŸ“Œ ë„ë©”ì¸ ëª¨ë¸

### **ğŸ“ ë„ë©”ì¸ ê´€ê³„ë„**

```
BibleTranslation (1) â”€â”€â”€> (N) BibleBook
BibleBook (1) â”€â”€â”€> (N) BibleChapter
BibleChapter (1) â”€â”€â”€> (N) BibleVerse
```

- **BibleTranslation** â†’ **BibleBook** (ë²ˆì—­ë³¸ - ì±…, 1:N ê´€ê³„)
- **BibleBook** â†’ **BibleChapter** (ì±… - ì¥, 1:N ê´€ê³„)
- **BibleChapter** â†’ **BibleVerse** (ì¥ - ì ˆ, 1:N ê´€ê³„)

## ğŸ“Œ API ì—”ë“œí¬ì¸íŠ¸

### 1ï¸âƒ£ **ì±…ê³¼ í•´ë‹¹ ì¥ ëª©ë¡ ì¡°íšŒ**

- **URL**: `GET /bibles/{translation}/books/{book}`
- **ì„¤ëª…**: íŠ¹ì • ë²ˆì—­ë³¸ì—ì„œ ì±…ì„ ê°€ì ¸ì˜¤ê³ , í•´ë‹¹ ì±…ì˜ ëª¨ë“  ì¥ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

ğŸ“Œ **Request Example**

```http
GET /bibles/KJV/books/Genesis
```

ğŸ“Œ **Response Example**

```json
{
  "bookId": 1,
  "bookName": "Genesis",
  "abbreviation": "Gen",
  "testament": "OLD",
  "chapters": [
    {
      "chapterId": 1,
      "chapterNumber": 1
    },
    {
      "chapterId": 2,
      "chapterNumber": 2
    }
  ]
}
```

---

### 2ï¸âƒ£ **íŠ¹ì • ì¥ê³¼ í•´ë‹¹ ì ˆ ëª©ë¡ ì¡°íšŒ**

- **URL**: `GET /bibles/books/{bookId}/chapters/{chapterNumber}`
- **ì„¤ëª…**: íŠ¹ì • ì±…ì—ì„œ íŠ¹ì • ì¥ê³¼ í•´ë‹¹ ì ˆ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

ğŸ“Œ **Request Example**

```http
GET /bibles/books/1/chapters/1
```

ğŸ“Œ **Response Example**

```json
{
  "chapterId": 1,
  "chapterNumber": 1,
  "verses": [
    {
      "verseId": 1,
      "verseNumber": 1,
      "text": "íƒœì´ˆì— í•˜ë‚˜ë‹˜ì´ ì²œì§€ë¥¼ ì°½ì¡°í•˜ì‹œë‹ˆë¼."
    }
  ]
}
```

---

### 3ï¸âƒ£ **íŠ¹ì • ì„±ê²½ êµ¬ì ˆ ì¡°íšŒ**

- **URL**: `GET /bibles/{translation}/books/{book}/chapters/{chapter}/verses/{verse}`
- **ì„¤ëª…**: íŠ¹ì • ë²ˆì—­ë³¸ì—ì„œ íŠ¹ì • êµ¬ì ˆì„ ì¡°íšŒí•©ë‹ˆë‹¤.

ğŸ“Œ **Request Example**

```http
GET /bibles/KJV/books/Genesis/chapters/1/verses/1
```

ğŸ“Œ **Response Example**

```json
{
  "translation": "KJV",
  "bookName": "Genesis",
  "chapterNumber": 1,
  "verseNumber": 1,
  "text": "In the beginning God created the heaven and the earth."
}
```

---

### 4ï¸âƒ£ **ì„±ê²½ êµ¬ì ˆ ê²€ìƒ‰**

- **URL**: `GET /bibles/search?keyword=`
- **ì„¤ëª…**: ì…ë ¥í•œ í‚¤ì›Œë“œê°€ í¬í•¨ëœ ì„±ê²½ êµ¬ì ˆì„ ê²€ìƒ‰í•©ë‹ˆë‹¤.

ğŸ“Œ **Request Example**

```http
GET /bibles/search?keyword=Jesus
```

ğŸ“Œ **Response Example**

```json
[
  {
    "verseId": 1,
    "bookName": "Matthew",
    "chapterNumber": 1,
    "verseNumber": 21,
    "text": "And she shall bring forth a son, and thou shalt call his name Jesus..."
  },
  {
    "verseId": 2,
    "bookName": "John",
    "chapterNumber": 3,
    "verseNumber": 16,
    "text": "For God so loved the world, that he gave his only begotten Son..."
  }
]
```

---

## ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤ (H2 ê°œë°œ í™˜ê²½)

### **H2 ì„¤ì • (`application.yml`)**

```yaml
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: update
    show-sql: true
```

### **DDL í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ (ìë™ ìƒì„±)**

```sql
CREATE TABLE bible_book
(
    id             BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    translation_id BIGINT       NOT NULL,
    name           VARCHAR(255) NOT NULL,
    abbreviation   VARCHAR(255) NOT NULL,
    testament      VARCHAR(10)  NOT NULL,
    book_order     INTEGER      NOT NULL
);
```

---

## ğŸ“Œ ì‹¤í–‰ ë°©ë²•

```bash
# í”„ë¡œì íŠ¸ ë¹Œë“œ ë° ì‹¤í–‰
./gradlew bootRun
```
